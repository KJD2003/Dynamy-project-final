<!-- navbar usata, con generazione dinamica delle categorie tramite il dbjson -->
<header class="navbar navbar-expand-lg bd-navbar bg-dark p-2 m-0">
    <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#bdNavbar"
        aria-controls="bdNavbar" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <nav class="navbar navbar-expand-lg  container-xxl bd-gutter flex-wrap flex-lg-nowrap offcanvas-collapse"
        aria-label="Main navigation">
        <a class="navbar-brand p-0 me-0 me-lg-2 zoom" (click)="goToPage('dashboard')" role="button">
            <h1 class="title text-red navbar-brand">DYNAMI
                <img src="assets/images/toro-PhotoRoom-PhotoRoom.png" width="40" height="42" alt="logo">
            </h1>
        </a>

        <div class="offcanvas-lg offcanvas-end flex-grow-1" tabindex="-1" id="bdNavbar"
            aria-labelledby="bdNavbarOffcanvasLabel" data-bs-scroll="true">
            <div class="offcanvas-body p-4 pt-0 p-lg-0">
                <hr class="d-lg-none text-white-50">
                <ul class="navbar-nav flex-row flex-wrap bd-navbar-nav">
                    <li class="nav-item col-6 col-lg-auto">
                        <a class="nav-link py-2 px-0 px-lg-2 hover-underline-animation" aria-current="true"
                            (click)="goToPage('dashboard')" role="button">Home</a>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <div class="menu-container">
                            <ul>
                                <li class="has-dropdown nav-link py-2 px-0 px-lg-2 hover-underline-animation">
                                    <a role="button" class="" >Categoria</a>
                                    <ul>
<!-- iterazione, grazie ad angular, che permette di iterare ciò che ho nelle categories -->
                                        <li *ngFor="let Category of Categories">
                                            <a class="nav-link has-dropdown hover-underline-animation" role="button"
                                                (click)="goToPage(Category.name)">{{Category.name}}</a>
                                            <ul *ngIf="Category.subcategories">
                                                <li *ngFor="let subcategory of Category.subcategories"
                                                    class="has-dropdown hover-underline-animation">
                                                    <a class="nav-link" (click)="goToPage(subcategory.name)"
                                                        role="button">{{ subcategory.name }}</a>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <a class="nav-link py-2 px-0 px-lg-2 hover-underline-animation"
                            (click)="goToPage('orderhistory')" target="_blank" rel="noopener" role="button"
                            *ngIf="isLogged">Storico</a>
                    </li>
                </ul>
                <hr class="d-lg-none text-white-50">
                <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
                    <li class="nav-item col-6 col-lg-auto">
                        <div class="container">
                            <a class="nav-link py-2 px-0 px-lg-2 " (click)="goToPage('profile')" role="button"
                                *ngIf="isLogged">
                                <fa-icon [icon]="faUser" class="original-text"></fa-icon>
                                <span class="hover-text">Profilo</span>
                            </a>
                        </div>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <!-- qualunque funzionme ngIf in questo caso serve a dire che se riesce a leggere il token, allora visualizzami quello che c'è dentro -->
                        <div class="container" *ngIf="isLogged">
                            <a class="nav-link py-2 px-0 px-lg-2 " (click)="goToPage('carrello')" role="button">
                                  <!-- <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                    99+
                                    </span> -->
                                <fa-icon [icon]="faShoppingCart" class="original-text"></fa-icon>
                            </a>
                        </div>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <a class="nav-link py-2 px-0 px-lg-2 hover-underline-animation" target="_blank"
                            (click)="goToPage('login')" role="button" *ngIf="!isLogged">Log-in</a>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <button class="nav-link py-2 px-0 px-lg-2 hover-underline-animation" target="_blank"
                            data-bs-toggle="modal" data-bs-target="#quitmodal" role="button" *ngIf="isLogged">
                            Log-Out
                        </button>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <a class="nav-link py-2 px-0 px-lg-2" target="_blank" href="https://www.facebook.com/profile.php?id=100094169320436" rel="noopener">
                            <fa-icon [icon]="faFacebookF" class=""></fa-icon>
                        </a>
                    </li>
                    <li class="nav-item col-6 col-lg-auto">
                        <div class="py-2 px-0 px-lg-2" target="_blank" href="" rel="noopener">
                            <div class="input-group">
                                <div class="form-outline">
                                   
